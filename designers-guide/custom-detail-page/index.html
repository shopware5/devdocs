<!DOCTYPE html>
<html><body><hr>

<p>layout: default
title: Example: Custom detail page
github_link: designers-guide/custom-detail-page/index.md
indexed: true
group: Frontend Guides
subgroup: Tutorials
menu_title: Example: Custom Detail page</p>

<h2 id="menu_order:-40">menu_order: 40</h2>

<div class="toc-list"></div>

<h2 id="introduction">Introduction</h2>

<p>In this tutorial you will learn how to create a custom template for detail pages. In this example, we want to replace the default detail page layout and create a more minimalistic layout for marketing purposes. This custom template could be used for products which are not yet in stock, but should be mentioned or announced to the customer.</p>

<div class="alert alert-warning" role="alert">
    <strong>Warning:</strong> Before you start modifying any template file, please make sure that you use a custom theme. If you'd like to have a more general introduction to working with themes, please read our <a href="/designers-guide/theme-startup-guide/">theme startup guide</a>.
</div>

<p><img src="custom-detail.png" alt="Custom detail page"></p>

<h2 id="preparation">Preparation</h2>

<p>First of all we have to create a new template file in the <code>frontend/detail</code> directory of our theme. In this tutorial we'll name the file <code>custom_detail.tpl</code>:</p>

<pre><code>CustomDetailTheme
 └── frontend
     └── detail
         └── custom_detail.tpl
</code></pre>

<p>Then we extend our new template from <code>frontend/detail/index.tpl</code>:</p>

<pre><code>{extends file='frontend/detail/index.tpl'}
</code></pre>

<p>We will add some custom LESS/CSS modifications later. Therefore, we add a wrapping <code>div</code> container with an individual class <code>custom-detail</code>:</p>

<pre><code class="html">{block name='frontend_index_content'}
    &lt;div class="custom-detail"&gt;
        {$smarty.block.parent}
    &lt;/div&gt;
{/block}
</code></pre>

<div class="alert alert-info">
    If you want to know how to use your custom template for a specific detail page, please take a look at <a href="/designers-guide/custom-templates/">our tutorial</a>.
</div>

<h2 id="structure">Structure</h2>

<p>In order to get a more minimalistic design, we want to remove the default product purchase box from the detail page. Don't worry, we will later add the most relevant product information, like the product description, to the template.</p>

<p>This override makes the whole container of the primary buy options disappear:</p>

<pre><code class="html">{block name='frontend_detail_index_buy_container'}
{/block}
</code></pre>

<h3 id="product-header">Product header</h3>

<p>The product header contains the product title as well as the rating stars and the supplier logo. In our example, we only want to show the product title and the short description. To achieve that, we override the product header block. Inside this block, we only want to output <code>$sArticle.articleName</code> and <code>$sArticle.description</code>. The <code>custom-detail--claim</code> container is defined inside a condition and will only be shown when the <code>$sArticle.description</code> exists. We also add individual classes for styling purposes:</p>

<pre><code class="html">{block name='frontend_detail_index_header_inner'}
    &lt;h1 class="custom-detail--title"&gt;
        {$sArticle.articleName}
    &lt;/h1&gt;

    {if $sArticle.description}
        &lt;div class="custom-detail--claim"&gt;
            {$sArticle.description}
        &lt;/div&gt;
    {/if}
{/block}
</code></pre>

<h3 id="product-description">Product description</h3>

<p>In the next step, we will replace the default product description and rating tabs by overriding the <code>frontend_detail_index_detail</code> block. Due to our minimalistic design, we want to output the product description with 450 characters at most:</p>

<pre><code class="html">{block name='frontend_detail_index_detail'}
    &lt;div class="custom-detail--description"&gt;
        {$sArticle.description_long|truncate:450}
    &lt;/div&gt;
{/block}
</code></pre>

<h3 id="product-actions">Product actions</h3>

<p>The last thing we need to do in terms of the structure is add the necessary product actions. In our example, we want to show two buttons: a link to other products of the same supplier and a "Remember" button to save the product to the wishlist. The code for these two buttons will also be inside the <code>frontend_detail_index_detail</code> block.</p>

<p>To add the "Remember" button, we create an <code>&lt;a&gt;</code> tag with the <code>btn</code> class, which will apply the general button appearance to it. As we want it to be a large and primary button with an icon on its side, we have to use additional helper classes: <code>is--primary</code>, <code>is--large</code> and <code>is--icon-left</code>. It is also <strong>very important</strong> to add the <code>link--notepad</code> class. This class is required by the <code>swAjaxWishlist</code> jQuery plugin which adds the current product to the wishlist without a page reload. To make the button work properly, we need to add the following action to the <code>href</code> attribute:</p>

<pre><code class="html">{url controller='note' action='add' ordernumber=$sArticle.ordernumber}
</code></pre>

<p><em>Explanation: We call the add action of the note controller and use the current order number as a parameter.</em></p>

<p>To keep all ajax functionality, we have to add a <code>data-ajaxUrl</code> data-attribute and do basically the same thing, except that we use the <code>ajaxAdd</code> action:</p>

<pre><code class="html">{url controller='note' action='ajaxAdd' ordernumber=$sArticle.ordernumber}
</code></pre>

<p>For the button texts we use the existing <code>DetailLinkNotepadShort</code> and <code>DetailLinkNotepad</code> snippets and set the namespace manually to <code>frontend/detail/actions</code>. To make sure that the button text changes to "Remembered" when clicking on it, we wrap the actual button text inside the <code>action--text</code> class. This class is also used by the <code>swAjaxWishlist</code> plugin:</p>

<pre><code class="html">&lt;div class="custom-detail--actions"&gt;
    &lt;a class="link--notepad btn is--primary is--large is--icon-left"
       href="{url controller='note' action='add' ordernumber=$sArticle.ordernumber}"
       data-ajaxUrl="{url controller='note' action='ajaxAdd' ordernumber=$sArticle.ordernumber}"
       title="{"{s name='DetailLinkNotepad' namespace="frontend/detail/actions"}{/s}"|escape}"&gt;
        &lt;i class="icon--heart"&gt;&lt;/i&gt;
        &lt;span class="action--text"&gt;
            {s name="DetailLinkNotepadShort" namespace="frontend/detail/actions"}{/s}
        &lt;/span&gt;
    &lt;/a&gt;
&lt;/div&gt;
</code></pre>

<p>Adding the "More from supplier" button is a little easier. For the value of the <code>href</code> attribute we only need to call the manufacturer action of the listing controller and use <code>$sArticle.supplierID</code> as a parameter:</p>

<pre><code>{url controller='listing' action='manufacturer' sSupplier=$sArticle.supplierID}
</code></pre>

<p>The button styling is almost the same and we also use an existing <code>DetailDescriptionLinkInformation</code> snippet for both <code>title</code> attribute and button text:</p>

<pre><code class="html">&lt;a class="btn is--large"
   href="{url controller='listing' action='manufacturer' sSupplier=$sArticle.supplierID}"
   title="{"{s name="DetailDescriptionLinkInformation" namespace="frontend/detail/description"}{/s}"|escape}"&gt;
    {s name="DetailDescriptionLinkInformation" namespace="frontend/detail/description"}{/s}
&lt;/a&gt;
</code></pre>

<p>Using the Shopware default components, you should get the following button appearance:</p>

<p><img src="buttons.png" alt="Action buttons"></p>

<div class="alert alert-info">
    If you need more information about the default components, refer to the <a href="/designers-guide/responsive-theme-default-components/">Responsive theme default components</a> article
</div>

<h3 id="smarty-code-overview-custom_detail.tpl">Smarty code overview <code>custom_detail.tpl</code></h3>

<pre><code class="html">{extends file='parent:frontend/detail/index.tpl'}

{block name='frontend_index_content'}
    &lt;div class="custom-detail"&gt;
        {$smarty.block.parent}
    &lt;/div&gt;
{/block}

{block name='frontend_detail_index_buy_container'}
{/block}

{block name='frontend_detail_index_header_inner'}
    &lt;h1 class="custom-detail--title"&gt;
        {$sArticle.articleName}
    &lt;/h1&gt;

    {if $sArticle.description}
        &lt;div class="custom-detail--claim"&gt;
            {$sArticle.description}
        &lt;/div&gt;
    {/if}
{/block}

{block name="frontend_detail_index_detail"}
    &lt;div class="custom-detail--description"&gt;
        {$sArticle.description_long|truncate:450}
    &lt;/div&gt;

    &lt;div class="custom-detail--actions"&gt;
        &lt;a class="link--notepad btn is--primary is--large is--icon-left"
           href="{url controller='note' action='add' ordernumber=$sArticle.ordernumber}"
           data-ajaxUrl="{url controller='note' action='ajaxAdd' ordernumber=$sArticle.ordernumber}"
           title="{"{s name='DetailLinkNotepad' namespace="frontend/detail/actions"}{/s}"|escape}"&gt;
            &lt;i class="icon--heart"&gt;&lt;/i&gt;
            &lt;span class="action--text"&gt;
                {s name="DetailLinkNotepadShort" namespace="frontend/detail/actions"}{/s}
            &lt;/span&gt;
        &lt;/a&gt;
        &lt;a class="btn is--large"
           href="{url controller='listing' action='manufacturer' sSupplier=$sArticle.supplierID}"
           title="{"{s name="DetailDescriptionLinkInformation" namespace="frontend/detail/description"}{/s}"|escape}"&gt;
            {s name="DetailDescriptionLinkInformation" namespace="frontend/detail/description"}{/s}
        &lt;/a&gt;
    &lt;/div&gt;
{/block}
</code></pre>

<h2 id="styling">Styling</h2>

<div class="alert alert-info" role="alert">
Need help with LESS? Have a look at our <a href="https://developers.shopware.com/designers-guide/less/">Getting started with LESS</a> guide.
</div>

<p>Because of the changes we made to the structure, we need to adjust the styling. To keep things organized, we will create a new file named <code>custom-detail.less</code>:</p>

<pre><code>CustomDetailTheme
 └── frontend
     └── _public
         └── src
             └── less
                 ├── all.less
                 └── custom-detail.less
</code></pre>

<p>Don't forget to import the file inside the <code>all.less</code>:</p>

<pre><code class="less">@import "custom-detail";
</code></pre>

<p>To ensure that our styling adjustments are only applied on the custom detail page, we wrap our code inside the class we have created before:</p>

<pre><code class="css">.custom-detail {
    // Custom styling here
}
</code></pre>

<p>First of all, we want to center the product title, description and action buttons:</p>

<pre><code class="css">.product--header,
.custom-detail--description,
.custom-detail--actions {
    text-align: center;
}
</code></pre>

<h3 id="styling-the-product-header">Styling the product header</h3>

<p>To get a modern and minimalistic design, we increase the <code>font-size</code> of the product title to <code>50px</code> and set the <code>font-weight</code> to <code>300</code>. The product's short description inside the <code>custom-detail--claim</code> gets a smaller <code>font-size</code> and a gray color:</p>

<p><img src="product-title.png" alt="Product title"></p>

<pre><code class="less">.custom-detail--title {
    .unitize(font-size, 50);
    .unitize(line-height, 45);
    .unitize-margin(10, 0, 10, 0);
    font-weight: 300;
}

.custom-detail--claim {
    .unitize(font-size, 16);
    .unitize(margin-bottom, 30);
    color: darken(@gray-dark, 15%);
}
</code></pre>

<div class="alert alert-warning">
    Always use the <strong>.unitize()</strong> mixin when you are dealing with sizes.
</div>

<h3 id="styling-the-product-image">Styling the product image</h3>

<p>Due to the fact that we have removed the default purchase box, we can center the product image in the middle of the main content area. To achieve that, we give the the default <code>product--image-container</code> a <code>width: 100%</code> and remove the floating with <code>float: none;</code>:</p>

<pre><code class="css">.product--image-container {
    float: none;
    width: 100%;
}
</code></pre>

<p>When the product has more than one image, the product slider with slider dots and thumbnails will show up on the detail page. The slider dots are positioned absolute by default. We don't want the slider dots to be absolute and we give them a <code>position: relative</code> so they are displayed as a normal block element right underneath the product image:</p>

<pre><code class="less">.image-slider--dots {
    .unitize-padding(15, 0);
    position: relative;
    top: auto;
}
</code></pre>

<p>We also don't want the thumbnails of the image slider to be shown on the page:</p>

<pre><code class="css">.image-slider--thumbnails { 
    display: none; 
}
</code></pre>

<p>The image slider container has a bottom margin for those thumbnails by default. Because we have removed it, we can also remove the bottom margin:</p>

<pre><code class="css">.image-slider--container {
    margin-bottom: 0;
}
</code></pre>

<h3 id="styling-the-product-description">Styling the product description</h3>

<p>On tablet landscape and desktop viewports, we want the product description to be centered and with 75% width:</p>

<pre><code class="less">@media screen and (min-width: @tabletLandscapeViewportWidth) {
    .custom-detail {
        .custom-detail--description {
            margin: 0 auto;
            width: 75%;
        }
    }
}
</code></pre>

<h3 id="styling-the-product-actions">Styling the product actions</h3>

<p>To add a bit more spacing between the product action buttons and the further page content, we apply some margin and padding as well as a horizontal line:</p>

<pre><code class="less">.custom-detail--actions {
   .unitize(padding-bottom, 30);
   .unitize(margin-bottom, 30);
   border-bottom: 1px solid @border-color;
}
</code></pre>

<p>We also want the buttons to be block elements on the phone viewport:</p>

<p><img src="custom-detail-mobile.png" alt="Custom detail mobile"></p>

<pre><code class="less">.btn {
    .unitize(margin-bottom, 10);
    display: block;
}
</code></pre>

<p>As mentioned before, the text of the "Remember" button should change to "Remembered" when you add an item to the wishlist. We want to give this behavior a nice touch and change the background to a success color:</p>

<p><img src="buttons-saved.png" alt="Action buttons wishlist"></p>

<pre><code class="less">.link--notepad.js--is-saved {
    color: #fff;
    background: @highlight-success;
}
</code></pre>

<p>Now we can set the buttons back to <code>inline-block</code> when the phone landscape viewport is reached:</p>

<pre><code class="less">@media screen and (min-width: @phoneLandscapeViewportWidth) {
    .custom-detail {
        .custom-detail--actions {
            .btn {
                .unitize(margin-right, 5);
                display: inline-block;
            }
        }
    }
}
</code></pre>

<h3 id="less-code-overview-custom-detail.less">LESS code overview <code>custom-detail.less</code></h3>

<pre><code class="less">.custom-detail {
    .product--header,
    .custom-detail--description,
    .custom-detail--actions {
        text-align: center;
    }

    .custom-detail--title {
        .unitize(font-size, 50);
        .unitize(line-height, 45);
        .unitize-margin(10, 0, 10, 0);
        font-weight: 300;
    }

    .custom-detail--claim {
        .unitize(font-size, 16);
        .unitize(margin-bottom, 30);
        color: darken(@gray-dark, 15%);
    }

    .product--image-container {
        float: none;
        width: 100%;
    }

    .image-slider--dots {
        .unitize-padding(15, 0);
        position: relative;
        top: auto;
    }

    .image-slider--thumbnails {
        display: none;
    }

    .image-slider--container {
        margin-bottom: 0;
    }

    .custom-detail--actions {
        .unitize(padding-bottom, 30);
        .unitize(margin-bottom, 30);
        border-bottom: 1px solid @border-color;

        .btn {
            .unitize(margin-bottom, 10);
            display: block;
        }

        .link--notepad.js--is-saved {
            color: #fff;
            background: @highlight-success;
        }
    }
}

@media screen and (min-width: @phoneLandscapeViewportWidth) {
    .custom-detail {
        .custom-detail--actions {
            .btn {
                .unitize(margin-right, 5);
                display: inline-block;
            }
        }
    }
}

@media screen and (min-width: @tabletLandscapeViewportWidth) {
    .custom-detail {
        .custom-detail--description {
            margin: 0 auto;
            width: 75%;
        }
    }
}
</code></pre>

<h2 id="javascript">JavaScript</h2>

<p>Because of the new layout, we don't have enough space to show the <code>mouseover</code> image zoom which is displayed on the desktop viewport. We will remove the specific jQuery plugin on our custom detail page.</p>

<p>To add JavaScript functionality, we create a new file named <code>jquery.custom-detail.js</code>:</p>

<pre><code>CustomDetailTheme
 └── frontend
     └── _public
         └── src
             └── js
                 └── jquery.custom-detail.js
</code></pre>

<p>We also need to include the new file inside the <code>Theme.php</code> of our custom theme:</p>

<pre><code class="php">protected $javascript = array(
    'src/js/jquery.custom-detail.js'
);
</code></pre>

<p>The code to remove the image zoom is pretty simple. We check if the main <code>content-wrapper</code> has a child <code>div</code> with the <code>custom-detail</code> class. If this is the case, we can remove the plugin for the <code>xl</code> viewport using the <code>removePlugin</code> method of the <code>StateManager</code>.</p>

<pre><code class="javascript">(function($, window) {
    if($('.content--wrapper').children('div').hasClass('custom-detail')) {
        window.StateManager.removePlugin('.product--image-zoom', 'swImageZoom', 'xl');
    }
}(jQuery, window));
</code></pre>

<h2 id="download-theme-plugin">Download theme plugin</h2>

<p>If you want to take a closer look at all the code we have written in this tutorial you can download this plugin:</p>

<p><strong><a href="https://developers.shopware.com/exampleplugins/SwagCustomDetailTheme.zip">Plugin download</a></strong></p>

<p>The theme is packed inside a plugin. This is a requirement to distribute themes via our store.
The structure of the theme is exactly the same as before, it is just placed a few layers deeper in the directory hierarchy:</p>

<pre><code>SwagCustomDetailTheme
└── Resources
    └── Themes
        └── Frontend
            └── *The theme folder*
</code></pre>

<p>In addition, the root directory of the plugin contains a plugin base file and a <code>plugin.xml</code> with meta information.
For more information on the Shopware plugin system, please head over to our <a href="https://developers.shopware.com/plugin-guide/">developer documentation</a>.</p></body></html>